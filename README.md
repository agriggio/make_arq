# A tool for generating Sony A7RIII/IV and Fujifilm GFX 100 Pixel-Shift files #

## Description

This is a simple command-line script to combine 4 or 16 source raw files taken in Pixel Shift Multi Shooting mode with a Sony A7RIII/IV or a Fujifilm GFX 100 camera and save the result as a pseudo-ARQ file, similarly to what Sony's Imaging Edge would do.
The generated file is a "pseudo-ARQ" in the sense that it will have the same data layout as proper ARQ files generated by Sony's Imaging Edge, but the metadata will be different. As such, the files will not be compatible with Sony's software. They can however be processed by [ART](http://bitbucket.org/agriggio/art) or [RawTherapee](http://rawtherapee.com).

## Dependencies

- Python (tested with 3.8);

- [exiftool](http://www.sno.phy.queensu.ca/~phil/exiftool/), which must be in your `PATH`;

- [tifffile](https://pypi.python.org/pypi/tifffile)

- [numpy](https://pypi.python.org/pypi/numpy)

- Optional, but highly recommended: a C compiler and the Python libraries and headers to use the C implementation of the main routine of the script. This will give a speedup of about 10x compared to the pure-Python implementation. The extension module can be built with `python _makearq_setup.py build_ext --inplace`.

- Optional, [rawpy](https://pypi.org/project/rawpy/) for handling Fujifilm GFX 100 files.


## Example usage

```text
# for Sony A7RIII
$ python make_arq.py file1.ARW file2.ARW file3.ARW file4.ARW -o out4.ARQ

# for Sony A7RIV
$ python make_arq.py file1.ARW ... file16.ARW -o out16.ARQ
# or alternatively, to force 4-frame mode
$ python make_arq.py file1.ARW ... file16.ARW -4 -o out4.ARQ

# for Fujifilm GFX 100
$ python make_arq.py file1.RAF ... file16.RAF -o out16.ARQ
$ python make_arq.py file1.RAF ... file16.RAF -4 -o out4.ARQ
```


## License

[GPL v3](https://www.gnu.org/licenses/gpl-3.0.en.html)
