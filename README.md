# A tool for generating Sony A7RIII/IV (and Fujifilm GFX 100) Pixel-Shift ARQ files #

## Description

This is a simple command-line script to combine 4 or 16 source ARW files taken in Pixel Shift Multi Shooting mode with a Sony A7RIII or A7RIV camera and save the result as a pseudo-ARQ file, similarly to what Sony's Imaging Edge would do.
The generated file is a "pseudo-ARQ" in the sense that it will have the same data layout as proper ARQ files generated by Sony's Imaging Edge, but the metadata will be different. As such, the files will not be compatible with Sony's software. They can however be processed by [RawTherapee](http://rawtherapee.com) or [ART](http://bitbucket.org/agriggio/art).

## Dependencies

- Python (tested with 3.8);

- [exiftool](http://www.sno.phy.queensu.ca/~phil/exiftool/), which must be in your `PATH`;

- [tifffile](https://pypi.python.org/pypi/tifffile)

- [numpy](https://pypi.python.org/pypi/numpy)

- Optional, but highly recommended: a C compiler and the Python libraries and headers to use the C implementation of the main routine of the script. This will give a speedup of about 10x compared to the pure-Python implementation. The extension module can be built with `python _makearq_setup.py build_ext --inplace`.

- Optional, [rawpy](https://pypi.org/project/rawpy/) for handling Fujifilm GFX 100 files.


## Example usage

```text
$ python make_arq.py file1.ARW file2.ARW file3.ARW file4.ARW -o out.ARQ
```


## License

[GPL v3](https://www.gnu.org/licenses/gpl-3.0.en.html)
